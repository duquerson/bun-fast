# =============================================================================
# üèóÔ∏è CONFIGURACI√ìN BUN-FAST - API RESTful Enterprise Grade
# =============================================================================
# 
# Este archivo contiene todas las variables de entorno necesarias para
# ejecutar la aplicaci√≥n bun-fast con configuraci√≥n enterprise.
# 
# üìù INSTRUCCIONES:
# 1. Copia este archivo como .env
# 2. Modifica los valores seg√∫n tu entorno
# 3. NO committes el archivo .env con valores reales
#
# =============================================================================

# =============================================================================
# üóÑÔ∏è CONFIGURACI√ìN DE BASE DE DATOS
# =============================================================================

# MongoDB Connection String
# Formato: mongodb://username:password@host:port/database?options
# Ejemplo local: mongodb://localhost:27017/todos
# Ejemplo Atlas: mongodb+srv://username:password@cluster.mongodb.net/todos?retryWrites=true&w=majority
APIMONGODB=mongodb://localhost:27017/todos

# Opciones de conexi√≥n MongoDB (opcional)
# MONGODB_MAX_POOL_SIZE=10
# MONGODB_SERVER_SELECTION_TIMEOUT=5000
# MONGODB_BUFFER_COMMANDS=false
# MONGODB_RETRY_WRITES=true
# MONGODB_RETRY_READS=true

# =============================================================================
# üåê CONFIGURACI√ìN DEL SERVIDOR
# =============================================================================

# Puerto del servidor Fastify
PORT=4321

# Host del servidor
# 'localhost' para desarrollo, '0.0.0.0' para producci√≥n
HOST=localhost

# Entorno de ejecuci√≥n
# development, production, test
NODE_ENV=development

# Configuraci√≥n de proxy reverso
# true si est√°s detr√°s de un proxy (nginx, apache, etc.)
TRUST_PROXY=false

# =============================================================================
# üîí CONFIGURACI√ìN DE SEGURIDAD ENTERPRISE
# =============================================================================

# ----------------------------------------
# Rate Limiting Configuration
# ----------------------------------------
# L√≠mite m√°ximo de requests por ventana de tiempo
RATE_LIMIT_MAX=100

# Ventana de tiempo para rate limiting (en milisegundos)
# 60000 = 1 minuto, 3600000 = 1 hora
RATE_LIMIT_WINDOW=60000

# N√∫mero de requests ban (0 = sin ban, -1 = ban permanente)
RATE_LIMIT_BAN=0

# Lista blanca de IPs (separadas por coma)
# Estas IPs no est√°n sujetas a rate limiting
RATE_LIMIT_ALLOWLIST=127.0.0.1,::1,localhost

# Redis URL para rate limiting distribuido (opcional)
# Formato: redis://username:password@host:port
REDIS_URL=

# ----------------------------------------
# CORS (Cross-Origin Resource Sharing)
# ----------------------------------------
# URL del frontend permitido (para CORS)
FRONTEND_URL=http://localhost:3000

# Lista de or√≠genes permitidos para CORS (separados por coma)
# Solo se usa en producci√≥n
# CORS_ALLOWED_ORIGINS=https://tu-dominio.com,https://www.tu-dominio.com

# Configuraci√≥n estricta de CORS (true/false)
# CORS_STRICT=false

# ----------------------------------------
# Headers de Seguridad
# ----------------------------------------
# Habilitar headers de seguridad estrictos (true/false)
SECURITY_HEADERS_STRICT=true

# Content Security Policy personalizado (opcional)
# SECURITY_CSP="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline';"

# =============================================================================
# üîê CONFIGURACI√ìN DE AUTENTICACI√ìN (FUTURO)
# =============================================================================

# JWT Secret para autenticaci√≥n (usar en producci√≥n)
# JWT_SECRET=tu_jwt_secret_muy_largo_y_seguro_aqui_minimo_256_bits

# API Key para endpoints especiales (opcional)
# API_KEY=tu_api_key_opcional_aqui

# Tiempo de expiraci√≥n de tokens (en segundos)
# TOKEN_EXPIRY=86400

# =============================================================================
# üìä CONFIGURACI√ìN DE LOGGING Y MONITOREO
# =============================================================================

# Nivel de logging
# debug, info, warn, error
LOG_LEVEL=info

# Formato de logs (json, simple)
LOG_FORMAT=simple

# Archivo de logs (opcional, leave empty para console)
# LOG_FILE=logs/app.log

# Habilitar logs de seguridad (true/false)
SECURITY_LOGGING=true

# =============================================================================
# ‚ö° CONFIGURACI√ìN DE RENDIMIENTO
# =============================================================================

# Tama√±o m√°ximo de request body (en bytes)
# 1048576 = 1MB
REQUEST_BODY_LIMIT=1048576

# Tiempo de timeout para requests (en milisegundos)
# 10000 = 10 segundos
REQUEST_TIMEOUT=10000

# Tiempo de timeout para conexiones (en milisegundos)
# 5000 = 5 segundos
CONNECTION_TIMEOUT=5000

# =============================================================================
# üìö CONFIGURACI√ìN DE SWAGGER/DOCUMENTACI√ìN
# =============================================================================

# T√≠tulo de la API en Swagger
API_TITLE=bun-fast API

# Descripci√≥n de la API en Swagger
API_DESCRIPTION=API RESTful de gesti√≥n de tareas TODO - Enterprise Grade

# Versi√≥n de la API
API_VERSION=1.0.0

# Contact information para Swagger
API_CONTACT_NAME=API Support
API_CONTACT_EMAIL=support@tu-dominio.com
API_CONTACT_URL=https://tu-dominio.com

# =============================================================================
# üß™ CONFIGURACI√ìN DE TESTING
# =============================================================================

# Base de datos para tests (separada de producci√≥n)
# TEST_DATABASE=mongodb://localhost:27017/todos_test

# Tiempo de timeout para tests (en segundos)
# TEST_TIMEOUT=30

# Habilitar tests de integraci√≥n (true/false)
# INTEGRATION_TESTS=true

# =============================================================================
# üöÄ CONFIGURACI√ìN DE PRODUCCI√ìN
# =============================================================================

# URL base de la aplicaci√≥n en producci√≥n
# APP_URL=https://tu-dominio.com

# SSL/TLS Configuration
# SSL_ENABLED=false
# SSL_KEY_PATH=/path/to/ssl/key.pem
# SSL_CERT_PATH=/path/to/ssl/cert.pem

# Health check personalizado
# HEALTH_CHECK_PATH=/health
# HEALTH_CHECK_TOKEN=opcional_token_para_health_checks

# =============================================================================
# üîß CONFIGURACI√ìN AVANZADA (OPCIONAL)
# =============================================================================

# Configuraci√≥n de Bun
# BUN_WORKERS=1
# BUN_MAX_MEMORY=1073741824

# Configuraci√≥n de MongoDB avanzada
# MONGODB_READ_PREFERENCE=primary
# MONGODB_WRITE_CONCERN=majority

# Configuraci√≥n de Middleware
# MIDDLEWARE_ORDER=security,validation,logging,routing

# Feature Flags (para futuras funcionalidades)
# FEATURE_ADVANCED_SEARCH=false
# FEATURE_BULK_OPERATIONS=false
# FEATURE_EXPORT_CSV=true

# =============================================================================
# üìù NOTAS IMPORTANTES
# =============================================================================
#
# üîí SEGURIDAD:
# - NUNCA committes archivos .env con valores reales
# - Usa secrets diferentes para cada entorno
# - Rota tus secrets peri√≥dicamente
# - Usa variables espec√≠ficas de plataforma en producci√≥n
#
# üóÑÔ∏è DATABASE:
# - Configura √≠ndices apropiados en MongoDB
# - Usa connection pooling en producci√≥n
# - Configura respaldos autom√°ticos
#
# üìä MONITOREO:
# - Configura alertas para rate limiting
# - Monitorea logs de seguridad
# - Establece m√©tricas de rendimiento
#
# üß™ TESTING:
# - Usa base de datos separada para tests
# - Configura CI/CD para tests autom√°ticos
# - Mant√©n datos de test aislados
#
# =============================================================================
